<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" type="x-icon" href="logo_dark_nobg.png">
    <link rel="stylesheet" href="home.css">
    <link rel="stylesheet" href="nav.css">
    <script src="nav.js"></script>
    <title>VitalIT Solutions</title>
</head>
<body>
    <div class="page">
        <div class="nav_container">
            <div class="cover"></div>
            <div class="nav">
                <div id="left">
                    <h1 onclick="scrollToPage('Home')"><span class="underlined">V</span>italIT <span class="underlined">S</span>olutions</h1>
                </div>
                <button class="nav_drag" onclick="slideNav();">&#9776;</button>
                <div id="right">
                    <!-- <a href="/">Home</a>
                    <a href="Services">Services</a>
                    <a href="About">About</a>
                    <a href="Contact-Us">Contact Us</a> -->
                    <button onclick="scrollToPage('Home')">Home</button>
                    <button onclick="scrollToPage('About')">About</button>
                    <button onclick="scrollToPage('Services')">Services</button>
                    <button onclick="scrollToPage('Contact Us')">Contact Us</button>
                </div>
            </div>
        </div>

        <div class="diamond_1">
            <img src="light_diamond.png" alt="">
        </div>

        <div class="diamond_2">
            <img src="light_diamond_flop.png" alt="">
        </div>

        <div class="main_nav">
            <h1>
                <span class="word">Personalized</span>
                <span>IT Service Management and</span>
                <span>Technology Services</span>
            </h1>
            <button onclick="scrollToPage('Services');">Get Started</button>
        </div>
    </div>

    <div class="mini_page_container">
        <div class="mini_page_background">
        </div>
        <div class="mini_page">
            <!-- <div class="diamond_1">
                <img src="dark_diamond.png" alt="">
            </div>

            <div class="diamond_2">
                <img src="dark_diamond_flop.png" alt="">
            </div> -->
            <h1 class="quote">Our mission is to empower small businesses with innovative <span>IT</span> solutions that drive efficiency, security, and growth. We are committed to delivering exceptional service and support.</h1>
        </div>
    </div>

    <div class="page_full">
        <div class="services">
            <div class="service_img_mobile">
                <img src="internet.png" alt="">
            </div>
            <div class="service" id="one">
                <div class="service_img">
                    <img src="internet.png" alt="">
                </div>
                <h1>Website Creation</h1>
                <h5>Starting at $100</h5>
                <div class="line"></div>
                <ul>
                    <li>Customized website design</li>
                    <li>Responsive design for mobile devices</li>
                    <li>Domain registration and setup</li>
                </ul>
            </div>
            <div class="service_img_mobile">
                <img src="cloud.png" alt="">
            </div>
            <div class="service" id="two">
                <div class="service_img">
                    <img src="cloud.png" alt="">
                </div>
                <h1>Cloud Migration and Management</h1>
                <h5>Starting at $200/month</h5>
                <div class="line"></div>
                <ul>
                    <li>Migration of data and applications to the cloud</li>
                    <li>Integration with existing systems and applications</li>
                    <li>Training for employees on how to use cloud services effectively</li>
                </ul>
            </div>
            <div class="service_img_mobile">
                <img src="web.png" alt="">
            </div>
            <div class="service" id="three">
                <div class="service_img">
                    <img src="web.png" alt="">
                </div>
                <h1>Custom IT Solutions</h1>
                <h5>Starting at $500/month</h5>
                <div class="line"></div>
                <ul>
                    <li>Tailored IT services based on specific business needs</li>
                    <li>IT project management and implementation</li>
                    <li>Dedicated IT consultant for strategic planning</li>
                </ul>
            </div>
            <h5>If our packages do not meet your needs, please feel free to <button onclick="scrollToPage('Contact Us')">Contact Us</button>.</h5>
        </div>
    </div>

    <div class="talk_page">
        <div class="inner">
            <div class="text">
                <h1><span>L</span>et's Talk</h1>
                <h3>We are here for you</h3>
            </div>
            <div class="form">
                <h2>First & Last Name</h2>
                <input type="text" maxlength="50" id="name">
                <h2>Business Name</h2>
                <input type="text" maxlength="100" id="business">
                <h2>Email</h2>
                <input type="email" maxlength="50" id="email">
                <h2>Phone Number</h2>
                <input type="tel" maxlength="12" id="phone">
                <h2>Message</h2>
                <textarea name="message" maxlength="2000" id="message"></textarea>
                <button onclick="contact();">Submit</button>
            </div>
        </div>
    </div>

    <div class="footer">
        <h1><span class="underlined V">V</span><span class="underlined">S</span></h1>
        <div class="links">
            <button onclick="scrollToPage('Home')">Home</button>
            <button onclick="scrollToPage('About')">About</button>
            <button onclick="scrollToPage('Services')">Services</button>
            <button onclick="scrollToPage('Contact Us')">Contact Us</button>
        </div>
    </div>

    <script>
        function formatPhoneNumber(event) {
            const input = event.target;
            const value = input.value.replace(/\D/g, '');
            const formattedValue = value.replace(/(\d{1,3})(\d{1,3})?(\d{1,4})?/, function(_, p1, p2, p3) {
                let formatted = p1;
                if (p2) {
                formatted += '-' + p2;
                }
                if (p3) {
                formatted += '-' + p3;
                }
                return formatted;
            });

            input.value = formattedValue;
        }

        // Attach event listener to phone number input
        document.querySelector('.form #phone').addEventListener('input', formatPhoneNumber);

        const textarea = document.querySelector('.talk_page .form textarea');

        textarea.addEventListener('input', () => {
            console.log('hello')
            textarea.style.height = 'auto'; // Reset the height
            textarea.style.height = textarea.scrollHeight + 'px'; // Set the height to match the content
        });

        function setPageHeight() {
            let page = document.querySelector('.page');
            page.style.height = window.innerHeight + 'px';
        }

        // setPageHeight();

        // window.addEventListener('resize', setPageHeight);

        function contact() {
            let name = document.querySelector('.form #name').value;
            let business = document.querySelector('.form #business').value;
            let email = document.querySelector('.form #email').value;
            let phone = document.querySelector('.form #phone').value;
            let message = document.querySelector('.form #message').value;
            
            if (name == null || name.length == 0) {
                alert('Please enter your name');
                return;
            }
            if (business == null || business.length == 0) {
                alert('Please enter your business name');
                return;
            }
            if (email == null || email.length == 0) {
                alert('Please enter an email so that we can contact you!');
                return;
            }
            if (phone == null || phone.length == 0) {
                phone = null;
            }
            if (message == null || message.length == 0) {
                alert('Please enter a message before submitting the form. We need to know how we can assist you!');
                return;
            }

            if (name.length > 50) {
                alert('Name must be under 50 characters');
                return;
            }
            if (business.length > 100) {
                alert('Business name must be under 100 characters');
                return;
            }
            if (email.length > 50) {
                alert('Email must be under 50 characters');
                return;
            }
            if (phone != null && phone.length > 20) {
                alert('Phone number must be under 20 characters');
                return;
            }
            if (message.length > 1500) {
                alert('Message must be under 1500 characters');
                return;
            }

            fetch('/api/contact-us', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({name, business, email, phone, message})
            })
            .then(res => res.json())
            .then(res => {
                if (res['success']) {
                    alert('Thank you for contacting us! We have received your message and will get back to you shortly.');
                } else {
                    alert(res['error']);
                }
            })
            .catch(() => {
                alert('Something went wrong');
            })

        }

    </script>
</body>
</html>